export default function (method, endpoint, headers, body, cb) {
	fetch(endpoint, {
		method,
		headers,
		body,
	})
		.then(response => {
			response.text().then(text => {
				const resHeaders = {};
				for (const pair of response.headers.entries()) {
					resHeaders[pair[0]] = pair[1];
				}
				cb(response.status, resHeaders, text);
			});
		}, error => {
			cb(-1, {}, error.toString());
		});
}
